\section{Closures}

\subsection{Static und Dynamic Scoping}
\begin{itemize}
    \item Static/Lexical Scoping: \\
          Struktur des Sourcecodes legt fest welche Variablen gemeint sind.
    \item Dynamic Scoping: \\
          Stack/Programmzustand legt Variablen fest.
\end{itemize}

\subsection{Closure}
Jede Scheme-Funktion hat eigene Umbebung fÃ¼r alle Variablen,
die im body vorkommen. \\\\
\textbf{Closure = Code + Umgebung}

\subsubsection{Beispiel}
\lstset{language=Scheme,style=customstyle}
\begin{lstlisting}
define (new-account)        ;; funktion ohne argumente
    (let ((balance 0))     ;; lokale variable = 0
    (lambda (x)            ;; RÃ¼ckgabe = Funktion erhÃ¶ht balance um x und gibt balance zurpck
        (set! balance (+ balance x))
        balance)))

(define ferien (new-account))
(ferien 10)            ;; -> 10
(ferien 10)            ;; -> 20

(define reisen (new-account))
(reisen 3)             ;; -> 3
(ferien 10)            ;; -> 30
\end{lstlisting}
